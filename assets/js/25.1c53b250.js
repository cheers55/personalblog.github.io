(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{351:function(_,v,t){"use strict";t.r(v);var e=t(33),a=Object(e.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"🌈-tcp-三次握手🤝"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🌈-tcp-三次握手🤝"}},[_._v("#")]),_._v(" 🌈 TCP 三次握手🤝")]),_._v(" "),t("h2",{attrs:{id:"_1-第一次握手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一次握手"}},[_._v("#")]),_._v(" 1. 第一次握手")]),_._v(" "),t("p",[_._v("客户端向服务端发送标记位 "),t("code",[_._v("SYN")]),_._v("，序号为 "),t("code",[_._v("Seq=x（x一般为1）")]),_._v("，表示请求建立新连接，随后客户端进入 "),t("code",[_._v("SYN-SENT")]),_._v(" 阶段。")]),_._v(" "),t("h2",{attrs:{id:"_2-第二次握手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二次握手"}},[_._v("#")]),_._v(" 2. 第二次握手")]),_._v(" "),t("p",[_._v("服务端收到客户端请求后，结束 "),t("code",[_._v("LISTEN")]),_._v(" 阶段，返回标志位为 "),t("code",[_._v("SYN")]),_._v(" 和 "),t("code",[_._v("ACK")]),_._v("，表示确认客户端的报文 "),t("code",[_._v("Seq")]),_._v(" 序号有效，服务端可以正常接收客户端发来的数据，并同意创建新连接，确认号为 "),t("code",[_._v("ACK=x+1")]),_._v("，序号为 "),t("code",[_._v("Seq=y")]),_._v(" 随后服务端进入 "),t("code",[_._v("SYN-RCVD")]),_._v(" 阶段。")]),_._v(" "),t("h2",{attrs:{id:"_3-第三次握手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-第三次握手"}},[_._v("#")]),_._v(" 3. 第三次握手")]),_._v(" "),t("p",[_._v("客户端接受并确认来自服务端报文后，标志位为 "),t("code",[_._v("ACK")]),_._v("，表示确认收到服务端的连接信号，序号为 "),t("code",[_._v("Seq=x+1")]),_._v("，表示收到服务端的确认号 "),t("code",[_._v("ACK")]),_._v("，并将其值作为自己的序号值，确认号 "),t("code",[_._v("ACK=y+1")]),_._v("，表示收到服务端序号 "),t("code",[_._v("Seq")]),_._v("，并将其值加1作为自己的确认号 "),t("code",[_._v("ACK")]),_._v(" 的值，随后客户端进入 "),t("code",[_._v("ESTABLISHED")]),_._v(" 阶段。")]),_._v(" "),t("p",[t("img",{attrs:{src:"https://pic.rmb.bdstatic.com/861fa058f2da35f8efa70b29bf7c45fd8689.gif",alt:""}})]),_._v(" "),t("h2",{attrs:{id:"_4-通俗理解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-通俗理解"}},[_._v("#")]),_._v(" 4. 通俗理解")]),_._v(" "),t("p",[_._v("为了更加简单的理解 "),t("code",[_._v("三次握手")]),_._v(" 的整体过程，咱们可以将这个过程看作是一个男生追求一个女生的基本发生过程。")]),_._v(" "),t("ol",[t("li",[_._v("某帅哥喜欢某个女孩，那么他首先要做的就是去和这个女孩去表白，表白的过程我们可以认为这个帅哥所说的话就是携带标记位 "),t("code",[_._v("SYN")]),_._v("，此时帅哥的话已经说完，相当于客户端进入了 "),t("code",[_._v("SYN-SENT")]),_._v(" 阶段；")]),_._v(" "),t("li",[_._v("这个女孩收到了这个帅哥的表白信号📶，相当于女孩结束 "),t("code",[_._v("LISTEN")]),_._v(" 阶段，恰好这个女孩对这个帅哥也有好感，所以此时女孩会将帅哥说过的话记在心中（将 "),t("code",[_._v("SYN")]),_._v(" 记在心中）并将自己想要说的话（"),t("code",[_._v("ACK")]),_._v("）告诉这个帅哥；")]),_._v(" "),t("li",[_._v("帅哥收到女孩的反馈后十分开心，迫不及待的开始把自己对女孩的喜爱之情再次表达给女孩（"),t("code",[_._v("ACK")]),_._v("）；")])]),_._v(" "),t("ul",[t("li",[_._v("此时两人正式确认要试着处处看的阶段，看电影、吃饭等等互相沟通，互相交流。")])]),_._v(" "),t("h2",{attrs:{id:"_5-为什么建立连接需要三次握手？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-为什么建立连接需要三次握手？"}},[_._v("#")]),_._v(" 5. 为什么建立连接需要三次握手？")]),_._v(" "),t("p",[_._v("第三次握手是为了防止已经失效的连接请求报文段突然又传到服务端，因而产生错误。")]),_._v(" "),t("ul",[t("li",[_._v("如果只有两次握手（第一次、第二次），那么到这里，连接就建立了，但是此时客户端并没有任何数据要发送，而服务端还在傻傻的等，造成很大的资源浪费。所以需要第三次握手，只有客户端再次回应一下，就可以避免这种情况。")])]),_._v(" "),t("p",[_._v("为了方便理解还是以处对象的方式来解释。")]),_._v(" "),t("ul",[t("li",[_._v("女孩是害羞的，帅哥在收到了女孩的反馈后，如果不趁热打火，再次出击，表示自己的爱慕之情，女孩就会认为你第一次对她说的话只是和她开一个天大的玩笑，锁心锁意，再也不想接收帅哥的任何信息。")])]),_._v(" "),t("p",[_._v("以上就是本人对于 "),t("code",[_._v("TCP三次握手")]),_._v(" 的一些简单个人理解，希望可以帮助到大家和自己。")])])}),[],!1,null,null,null);v.default=a.exports}}]);