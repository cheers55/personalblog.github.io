(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{367:function(s,n,t){"use strict";t.r(n);var e=t(45),a=Object(e.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"ğŸŒˆ-react-å‡½æ•°å¼ç»„ä»¶ä¼˜åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒˆ-react-å‡½æ•°å¼ç»„ä»¶ä¼˜åŒ–"}},[s._v("#")]),s._v(" ğŸŒˆ React å‡½æ•°å¼ç»„ä»¶ä¼˜åŒ–")]),s._v(" "),t("h2",{attrs:{id:"_1-react-æ€§èƒ½ä¼˜åŒ–æ€è·¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-react-æ€§èƒ½ä¼˜åŒ–æ€è·¯"}},[s._v("#")]),s._v(" 1. React æ€§èƒ½ä¼˜åŒ–æ€è·¯")]),s._v(" "),t("ol",[t("li",[s._v("å‡å°‘é‡æ–° "),t("code",[s._v("render")]),s._v(" çš„æ¬¡æ•°ã€‚")]),s._v(" "),t("li",[s._v("å‡å°‘è®¡ç®—çš„é‡ã€‚ä¸»è¦æ˜¯å‡å°‘é‡å¤è®¡ç®—ï¼Œå¯¹äºå‡½æ•°å¼ç»„ä»¶æ¥è¯´ï¼Œæ¯æ¬¡ "),t("code",[s._v("render")]),s._v(" éƒ½ä¼šé‡æ–°ä»å¤´å¼€å§‹æ‰§è¡Œå‡½æ•°è°ƒç”¨ã€‚")])]),s._v(" "),t("ul",[t("li",[s._v("åœ¨ä½¿ç”¨ç±»ç»„ä»¶"),t("code",[s._v("ï¼ˆclassï¼‰")]),s._v("çš„æ—¶å€™ï¼Œä½¿ç”¨çš„ "),t("code",[s._v("React")]),s._v(" ä¼˜åŒ– API ä¸»è¦æ˜¯ï¼š"),t("code",[s._v("shouldComponentUpdate")]),s._v(" å’Œ "),t("code",[s._v("PureComponent")]),s._v("ï¼Œéƒ½æ˜¯ä¸ºäº†å‡å°‘é‡æ–° "),t("code",[s._v("render")]),s._v(" çš„æ¬¡æ•°ï¼Œä¸»è¦æ˜¯å‡å°‘çˆ¶ç»„ä»¶æ›´æ–°è€Œå­ç»„ä»¶ä¹Ÿæ›´æ–°çš„æƒ…å†µã€‚")])]),s._v(" "),t("h2",{attrs:{id:"_2-å‡½æ•°ç»„ä»¶ä¼˜åŒ–æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å‡½æ•°ç»„ä»¶ä¼˜åŒ–æ–¹æ³•"}},[s._v("#")]),s._v(" 2. å‡½æ•°ç»„ä»¶ä¼˜åŒ–æ–¹æ³•")]),s._v(" "),t("h3",{attrs:{id:"_2-1-react-memo-å‡å°‘-render-çš„æ¬¡æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-react-memo-å‡å°‘-render-çš„æ¬¡æ•°"}},[s._v("#")]),s._v(" 2.1 React.memo ï¼ˆå‡å°‘ render çš„æ¬¡æ•°ï¼‰")]),s._v(" "),t("p",[s._v("å¯ä»¥å‡å°‘é‡æ–° "),t("code",[s._v("render")]),s._v(" çš„æ¬¡æ•°ï¼Œå¯¹æ ‡ç±»ç»„ä»¶é‡Œé¢çš„ "),t("code",[s._v("PureComponent")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("ä¸¾ä¸ªç®€å•çš„ğŸŒ° ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä¿®æ”¹çˆ¶ç»„ä»¶ "),t("strong",[s._v("title")]),s._v(" çš„æ—¶å€™åŒæ—¶ä¼ é€’ç»™å­ç»„ä»¶ä¸€ä¸ª "),t("em",[s._v("name")]),s._v(" å€¼ã€‚")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// çˆ¶ç»„ä»¶\nimport React, { useState } from "react";\nimport ReactDOM from "react-dom";\nimport Child from \'./child\'\n\nfunction Father() {\n  const [title, setTitle] = useState("çˆ¶ç»„ä»¶çš„title");\n\n  return (\n    <div className="Father">\n      <h1>{ title }</h1>\n      <button onClick={() => setTitle("çˆ¶ç»„ä»¶çš„titleæ”¹å˜äº†")}>ä¿®æ”¹çˆ¶ç»„ä»¶çš„title</button>\n      <Child name="çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼"></Child>\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById("root");\nReactDOM.render(<Father />, rootElement);\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// å­ç»„ä»¶\nimport React from "react";\n\nfunction Child(props) {\n  console.log(props.name)\n  return <p>{props.name}</p>\n}\n\nexport default Child;\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ul",[t("li",[s._v("é¦–æ¬¡æ¸²æŸ“çš„æ•ˆæœå¦‚ä¸‹ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7ba075562974ef4a081fdfd39d1166c~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("å¹¶ä¸”åœ¨æ§åˆ¶å°ä¼šæ‰“å° "),t("strong",[s._v('"çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼"')]),s._v("ï¼Œè¯´æ˜ "),t("code",[s._v("Child")]),s._v(" ç»„ä»¶æ¸²æŸ“äº†ã€‚")]),s._v(" "),t("li",[s._v("æ¥ä¸‹æ¥ç‚¹å‡» "),t("strong",[s._v("ä¿®æ”¹çˆ¶ç»„ä»¶çš„title")]),s._v(" è¿™ä¸ªbuttonï¼Œé¡µé¢ä¼šå˜æˆï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8080c52b5114ec0a315a26bd3301e48~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("å¯è§ çˆ¶ç»„ä»¶çš„"),t("code",[s._v("title")]),s._v(" å·²ç»æ”¹å˜äº†ï¼Œè€Œä¸”æ§åˆ¶å°å†æ¬¡æ‰“å°äº† "),t("strong",[s._v('"çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼"')]),s._v("ã€‚å­ç»„ä»¶åœ¨ "),t("code",[s._v("props")]),s._v(" æ²¡æœ‰æ”¹å˜çš„æƒ…å†µä¸‹ï¼Œå†æ¬¡æ¸²æŸ“äº†ã€‚å‡è®¾å­ç»„ä»¶å¦‚æœéå¸¸åºå¤§ï¼Œæ¸²æŸ“ä¸€æ¬¡ä¼šæ¶ˆè€—å¾ˆå¤šçš„æ€§èƒ½ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘è¿™ä¸ªç»„ä»¶çš„æ¸²æŸ“ï¼Œå¦åˆ™å°±å®¹æ˜“äº§ç”Ÿæ€§èƒ½é—®é¢˜ã€‚")])]),s._v(" "),t("p",[t("code",[s._v("React.memo")]),s._v(" åœ¨ç»™å®šç›¸åŒ "),t("code",[s._v("props")]),s._v(" çš„æƒ…å†µä¸‹æ¸²æŸ“ç›¸åŒçš„ç»“æœï¼Œå¹¶ä¸”é€šè¿‡è®°å¿†ç»„ä»¶æ¸²æŸ“ç»“æœçš„æ–¹å¼æ¥æé«˜ç»„ä»¶çš„æ€§èƒ½è¡¨ç°ã€‚é‚£ä¹ˆä¸Šé¢çš„ä¾‹å­å°±å¯ä»¥åšå¦‚ä¸‹ä¿®æ”¹ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// å­ç»„ä»¶\nimport React from "react";\n\nfunction Child(props) {\n  console.log(props.name)\n  return <p>{props.name}</p>\n}\n\nexport default React.memo(Child); // ç”¨ React.memo()åŒ…è£¹\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"_2-2-usecallback-å‡å°‘-render-çš„æ¬¡æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-usecallback-å‡å°‘-render-çš„æ¬¡æ•°"}},[s._v("#")]),s._v(" 2.2 useCallback ï¼ˆå‡å°‘ render çš„æ¬¡æ•°ï¼‰")]),s._v(" "),t("p",[s._v("æ ¹æ®ä¸Šé¢çš„ä¾‹å­ï¼Œå†æ”¹ä¸€ä¸‹éœ€æ±‚ï¼Œçˆ¶ç»„ä»¶æ–°å¢ä¸€ä¸ªå‰¯æ ‡é¢˜å’Œä¸€ä¸ªä¿®æ”¹å‰¯æ ‡é¢˜çš„buttonï¼Œç„¶åæŠŠä¿®æ”¹æ ‡é¢˜çš„buttonæ”¾åˆ°å­ç»„ä»¶é‡Œã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// çˆ¶ç»„ä»¶\nimport React, { useState } from "react";\nimport ReactDOM from "react-dom";\nimport Child from "./child";\n\nfunction Father() {\n  const [title, setTitle] = useState("çˆ¶ç»„ä»¶çš„title");\n  const [subtitle, setSubtitle] = useState("çˆ¶ç»„ä»¶çš„å‰¯title");\n\n  const callback = () => {\n    setTitle("çˆ¶ç»„ä»¶çš„titleæ”¹å˜äº†");\n  };\n  return (\n    <div className="Father">\n      <h1>{title}</h1>\n      <h2>{subtitle}</h2>\n      <button onClick={() => setSubtitle("çˆ¶ç»„ä»¶çš„å‰¯titleæ”¹å˜äº†")}>ä¿®æ”¹çˆ¶ç»„ä»¶çš„å‰¯title</button>\n      <Child onClick={callback} name="çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼" />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById("root");\nReactDOM.render(<Father />, rootElement);\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// å­ç»„ä»¶\nimport React from "react";\n\nfunction Child(props) {\n  console.log(props.name);\n  return (\n    <div>\n      <button onClick={props.onClick}>ä¿®æ”¹çˆ¶ç»„ä»¶çš„title</button>\n      <h1>{props.name}</h1>\n    </div>\n  );\n}\n\nexport default React.memo(Child);\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("ul",[t("li",[s._v("é¦–æ¬¡æ¸²æŸ“çš„æ•ˆæœå¦‚ä¸‹ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/24c21323c3e34ca6893e703a97a91746~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v('å¹¶ä¸”åœ¨æ§åˆ¶å°ä¼šæ‰“å° "çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼"ï¼Œè¯´æ˜ Child ç»„ä»¶æ¸²æŸ“äº†ã€‚')])]),s._v(" "),t("li",[t("p",[s._v("æ¥ä¸‹æ¥ç‚¹å‡» ä¿®æ”¹çˆ¶ç»„ä»¶çš„å‰¯title è¿™ä¸ªbuttonï¼Œé¡µé¢ä¼šå˜æˆï¼š")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/463f4b09a4ad457fab57e9bcf894656d~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v('å¯è§ çˆ¶ç»„ä»¶çš„å‰¯title å·²ç»æ”¹å˜äº†ï¼Œè€Œä¸”æ§åˆ¶å°å†æ¬¡æ‰“å°äº† "çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼"ã€‚å­ç»„ä»¶åœ¨ props æ²¡æœ‰æ”¹å˜çš„æƒ…å†µä¸‹ï¼Œå†æ¬¡æ¸²æŸ“äº†ã€‚ä½†æ˜¯å­ç»„ä»¶æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œé‚£ä¹ˆè¿™æ¬¡å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“å°±æ˜¯å¤šä½™çš„ï¼Œä¸ºä»€ä¹ˆåˆé‡æ–°æ¸²æŸ“äº†å‘¢ï¼Ÿ')])]),s._v(" "),t("p",[t("strong",[s._v("ä¸€ä¸ªç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¸€èˆ¬æœ‰3ç§æƒ…å†µï¼š")])]),s._v(" "),t("ol",[t("li",[s._v("ç»„ä»¶è‡ªå·±çš„çŠ¶æ€æ”¹å˜ï¼›")]),s._v(" "),t("li",[s._v("çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå¯¼è‡´å­ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶çš„ "),t("code",[s._v("props")]),s._v(" æ²¡æœ‰æ”¹å˜ï¼›")]),s._v(" "),t("li",[s._v("çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå¯¼è‡´å­ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¼ é€’çš„ "),t("code",[s._v("props")]),s._v(" æ”¹å˜äº†ï¼›")])]),s._v(" "),t("blockquote",[t("p",[s._v("ç¬¬ä¸€ç§æœæ–­æ’é™¤ï¼Œå½“ç‚¹å‡»ä¿®æ”¹å‰¯titleçš„æ—¶å€™å¹¶æ²¡æœ‰å»æ”¹å˜å­ç»„ä»¶çš„çŠ¶æ€;")])]),s._v(" "),t("blockquote",[t("p",[s._v("ç¬¬äºŒç§æƒ³ä¸€ä¸‹ä¹Ÿåº”è¯¥æ’é™¤ï¼Œçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“äº†ï¼Œçˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„ "),t("code",[s._v("props")]),s._v(" æ²¡æœ‰æ”¹å˜ï¼Œä½†æ˜¯å­ç»„ä»¶é‡æ–°æ¸²æŸ“äº†ï¼Œæˆ‘ä»¬è¿™ä¸ªæ—¶å€™ç”¨ "),t("code",[s._v("React.memo")]),s._v(" æ¥è§£å†³äº†è¿™ä¸ªé—®é¢˜;")])]),s._v(" "),t("blockquote",[t("p",[s._v("é‚£ä¹ˆåº”è¯¥æ˜¯ç¬¬ä¸‰ç§æƒ…å†µäº†ï¼Œå½“çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼ é€’ç»™å­ç»„ä»¶çš„ "),t("code",[s._v("props")]),s._v(" å‘ç”Ÿäº†æ”¹å˜ï¼Œä¼ é€’ç»™å­ç»„ä»¶çš„å°±ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯ nameï¼Œå¦ä¸€ä¸ªæ˜¯ onClick ï¼Œname ä¼ é€’çš„æ˜¯å¸¸é‡ï¼Œæ²¡æœ‰å˜ï¼Œå˜çš„å°±æ˜¯ onClick äº†ï¼Œä¸ºä»€ä¹ˆä¼ é€’ç»™ onClick çš„ callback å‡½æ•°ä¼šå‘ç”Ÿæ”¹å˜å‘¢ï¼Ÿåœ¨æ–‡ç« çš„å¼€å¤´å°±å·²ç»è¯´è¿‡äº†ï¼Œåœ¨å‡½æ•°å¼ç»„ä»¶é‡Œæ¯æ¬¡é‡æ–°æ¸²æŸ“ï¼Œå‡½æ•°ç»„ä»¶éƒ½ä¼šé‡å¤´å¼€å§‹é‡æ–°æ‰§è¡Œï¼Œé‚£ä¹ˆè¿™ä¸¤æ¬¡åˆ›å»ºçš„ callback å‡½æ•°è‚¯å®šå‘ç”Ÿäº†æ”¹å˜ï¼Œæ‰€ä»¥å¯¼è‡´äº†å­ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚")])]),s._v(" "),t("p",[t("code",[s._v("useCallback")]),s._v(" åœ¨å‡½æ•°æ²¡æœ‰æ”¹å˜çš„æ—¶å€™ï¼Œé‡æ–°æ¸²æŸ“çš„æ—¶å€™ä¿æŒä¸¤ä¸ªå‡½æ•°çš„å¼•ç”¨ä¸€è‡´ï¼Œé‚£ä¹ˆä¸Šé¢çš„ä¾‹å­å°±å¯ä»¥åšå¦‚ä¸‹ä¿®æ”¹ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// çˆ¶ç»„ä»¶\nimport React, { useState, useCallback } from "react";\nimport ReactDOM from "react-dom";\nimport Child from "./child";\n\nfunction Father() {\n  const [title, setTitle] = useState("çˆ¶ç»„ä»¶çš„title");\n  const [subtitle, setSubtitle] = useState("çˆ¶ç»„ä»¶çš„å‰¯title");\n\n  const callback = () => {\n    setTitle("çˆ¶ç»„ä»¶çš„titleæ”¹å˜äº†");\n  };\n  \n  // é€šè¿‡ useCallback è¿›è¡Œè®°å¿† callbackï¼Œå¹¶å°†è®°å¿†çš„ callback ä¼ é€’ç»™å­ç»„ä»¶\n  const _callback = useCallback(callback, []);\n  \n  return (\n    <div className="Father">\n      <h1>{title}</h1>\n      <h2>{subtitle}</h2>\n      <button onClick={() => setSubtitle("çˆ¶ç»„ä»¶çš„å‰¯titleæ”¹å˜äº†")}>ä¿®æ”¹çˆ¶ç»„ä»¶çš„å‰¯title</button>\n      <Child onClick={_callback} name="çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼" />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById("root");\nReactDOM.render(<Father />, rootElement);\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("h3",{attrs:{id:"_2-3-usememo-å‡å°‘è®¡ç®—çš„é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-usememo-å‡å°‘è®¡ç®—çš„é‡"}},[s._v("#")]),s._v(" 2.3 useMemo ï¼ˆå‡å°‘è®¡ç®—çš„é‡ï¼‰")]),s._v(" "),t("p",[t("code",[s._v("useMemo")]),s._v(" ä¸»è¦æ˜¯ç”¨æ¥ç¼“å­˜è®¡ç®—é‡æ¯”è¾ƒå¤§çš„å‡½æ•°ç»“æœï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œå’Œ "),t("code",[s._v("Vue")]),s._v(" é‡Œé¢çš„ "),t("code",[s._v("computed")]),s._v(" æœ‰å¼‚æ›²åŒå·¥çš„ä½œç”¨ï¼Œå¯ä»¥å‡å°‘è®¡ç®—çš„é‡ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('import React, { useState } from "react";\nfunction App() {\n  const [num, setNum] = useState(0);\n\n  // ä¸€ä¸ªéå¸¸è€—æ—¶çš„ä¸€ä¸ªè®¡ç®—å‡½æ•°\n  // result æœ€åè¿”å›çš„å€¼æ˜¯ 49995000\n  function resultFn() {\n    let result = 0;\n    \n    for (let i = 0; i < 10000; i++) {\n      result += i;\n    }\n    \n    console.log(result) // 49995000\n    return result;\n  }\n\n  const resultNum = resultFn();\n\n  return (\n    <div className="App">\n      <h1>countï¼š{num}</h1>\n      <button onClick={() => setNum(num + resultNum)}>+1</button>\n    </div>\n  );\n}\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("p",[s._v("å¦‚æœæˆ‘ä»¬æŠŠ "),t("code",[s._v("i")]),s._v(" å˜æˆ10000000ï¼Œæ¯æ¬¡ç‚¹å‡» +1 æŒ‰é’®çš„æ—¶å€™ï¼Œéƒ½ä¼šé‡æ–°æ¸²æŸ“ä¸”å¾—åˆ°çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ ·ä¼šå¯¹æ€§èƒ½é€ æˆä¸€äº›å½±å“ï¼Œæˆ‘ä»¬å¯ä»¥åšå¦‚ä¸‹ä¿®æ”¹ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('import React, { useState, useMemo } from "react";\nfunction App() {\n  const [num, setNum] = useState(0);\n\n  // ä¸€ä¸ªéå¸¸è€—æ—¶çš„ä¸€ä¸ªè®¡ç®—å‡½æ•°\n  // result æœ€åè¿”å›çš„å€¼æ˜¯ 49995000\n  function resultFn() {\n    let result = 0;\n    \n    for (let i = 0; i < 10000; i++) {\n      result += i;\n    }\n    \n    console.log(result) // 49995000\n    return result;\n  }\n\n  const resultNum = useMemo(resultFn, []); //è¿™ä½¿ç”¨äº† useMemo\n\n  return (\n    <div className="App">\n      <h1>countï¼š{num}</h1>\n      <button onClick={() => setNum(num + resultNum)}>+1</button>\n    </div>\n  );\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("p",[s._v("éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š")]),s._v(" "),t("blockquote",[t("p",[s._v("ä¸€ã€å¦‚æœæ²¡æœ‰æä¾›ä¾èµ–é¡¹æ•°ç»„ï¼ŒuseMemo åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šè®¡ç®—æ–°çš„å€¼ï¼›")])]),s._v(" "),t("blockquote",[t("p",[s._v("äºŒã€å¦‚æœè®¡ç®—é‡å¾ˆå°çš„è®¡ç®—å‡½æ•°ï¼Œå¯ä»¥é€‰æ‹©ä¸ä½¿ç”¨ useMemoï¼Œé¿å…ä½¿ç”¨ä¸å½“é€ æˆå…¶ä»–é—®é¢˜ï¼›")])]),s._v(" "),t("p",[t("a",{attrs:{href:"www.chengxiaohui.cn"}},[s._v("æ›´å¤šæŠ€æœ¯åˆ†äº«è¯·å…³æ³¨æˆ‘çš„ä¸ªäººåšå®¢ www.chengxiaohui.cnã€‚æ¬¢è¿éªšæ‰°â”("),t("em",[s._v("ï½€âˆ€Â´")]),s._v(")ãƒäº»!")])])])}),[],!1,null,null,null);n.default=a.exports}}]);